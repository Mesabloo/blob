library:
  source-dirs: src
  ghc-options:
  - -Wall
  - -O2
  - -optc-O3
  - -fasm
  cpp-options:
  - -DNDEBUG
  - -O3

copyright: 2019 Mesabloo

dependencies:
- text
- base >= 4.7 && < 5
- megaparsec >7
- ansi-terminal
- wl-pprint
- containers
- mtl
- directory
- haskeline
- MissingH
- these <= 0.7.6
- criterion-measurement
- bytestring
- extra
- keys
- hashable
- filepath
- insert-ordered-containers
# - JellyVM
- conf
- lens
- binary
- vector
- unix
- template-haskell

name: Blob
version: 0.1.0.0
extra-source-files:
- README.md
author: Mesabloo
github: mesabloo/Blob
license: GPL-3.0

executables:
  Blob-exe:
    source-dirs: app
    main: Main.hs
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    - -Wall
    - -Wextra
    - -Wno-unused-do-bind
    - -Wno-name-shadowing
    - -O2
    - -optc-O3
    - -fasm
    # - -prof
    # - -fprof-auto
    cpp-options:
    - -DNDEBUG
    - -O3
    dependencies:
    - Blob
    - optparse-applicative

description: Please see the README on GitHub at <https://github.com/mesabloo/Blob#readme>

tests:
  lexer:
    main:        Main.hs
    source-dirs: tests/Lexer
    dependencies:
    - Blob
    - hspec
  parser:
    main:        Main.hs
    source-dirs: tests/Parser
    dependencies:
    - Blob
    - hspec